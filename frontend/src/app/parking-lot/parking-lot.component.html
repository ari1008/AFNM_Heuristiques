<div class="container">
  <h2>Parking Lot Map</h2>

  <div class="legend">
    <span><span class="legend-box has-plug">âš¡</span> Borne Ã©lectrique</span>
    <span><span class="legend-box reserved">ğŸ”’</span> RÃ©servÃ©e aujourdâ€™hui</span>
    <span><span class="legend-box blocked">ğŸš«</span> Non autorisÃ©e</span>
  </div>

  <button routerLink="/checkin" class="checkin-btn">Faire le checkin</button>

  <div class="entry-row"><div class="entry-label">â¬‡ï¸ ENTRY</div></div>

  <div *ngFor="let row of rows" class="row">
    <ng-container *ngFor="let col of columns">
      <ng-container *ngIf="getSlotBlockReason(row, col) | async as reason; else showSlot">
        <div class="slot blocked" [title]="reason">ğŸš«</div>
      </ng-container>

      <ng-template #showSlot>
        <a
          [routerLink]="['/reservation', getSlotId(row, col)]"
          class="slot free"
          [class.has-plug]="(isElectricSlot(row, col) | async)">
          {{ getSlotId(row, col) }}
          <span *ngIf="(isElectricSlot(row, col) | async)">âš¡</span>
        </a>
      </ng-template>
    </ng-container>
  </div>

  <div class="exit-row"><div class="exit-label">EXIT â¬‡ï¸</div></div>
</div>
